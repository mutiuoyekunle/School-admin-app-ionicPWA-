<!--
  Generated template for the BlockPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="purple">
  	<button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Restriction Page</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<aside class="aside-left pull-left {{toggle}}">
	<ion-list no-lines>
		<button ion-item style="border-bottom: 1px solid #e5e4e2;" (click)="toggleMenu();">
			Menu <ion-icon name="menu" item-end> </ion-icon>
		</button>
		<button ion-item  [ngClass]="{'list-active': dToggles=== 'pActive'}" (click)="parentSect();" >
			Parents
		</button>
		<button ion-item  [ngClass]="{'list-active': dToggles=== 'tActive'}" (click)="teacherSect();">
			Teachers
		</button>
		<button ion-item  [ngClass]="{'list-active': dToggles=== 'bActive'}" (click)="busSect();">
			Bus Staffs
		</button>
		<button ion-item  [ngClass]="{'list-active': dToggles=== 'lActive'}" (click)="librarySect();">
			Library Staffs
		</button>
	</ion-list>
	</aside>

	<aside class="aside-right {{rToggle}}" *ngIf="dToggles=== 'pActive'">
		<ion-list >
	  <ion-grid>
	      <ion-row>
	        <ion-col col-7>
	          <ion-searchbar (ionInput)="getItems($event)" animated=true placeholder="name or level" style="background: rgba(0,0,0,0.1);" id="searchbar"></ion-searchbar>
	        </ion-col>
	        <ion-col col-5>
	          <ion-list >
	            <ion-item style="background-color: rgba(0,0,0,0.1); color: #000;">
	              <ion-label>Filter By</ion-label>
	              <ion-select [(ngModel)]="category">
	                <ion-option value="">All</ion-option>
	                <ion-option value="paid">Paid</ion-option>
	                <ion-option value="not paid">Not Paid</ion-option>
	                <ion-option value="part paid">Part Paid</ion-option>
	                <ion-option value="valid">Bus valid</ion-option>
	                <ion-option value="invalid">Bus invalid</ion-option>
	              </ion-select>
	            </ion-item>
	          </ion-list>
	        </ion-col>
	      </ion-row>
	    </ion-grid>
	    
	    <table style="width: 100%;" class="dtable">
		    <thead>
		      <tr>
		        <th>Prf Pix</th> <th>Name</th> <th>Level</th> <th>Action</th> 
		      </tr>
		    </thead>
		    <tbody>
		      <tr *ngFor=" let student of students | searchFilter2: category">
		        <td style="max-width: 80px;">
		          <ion-avatar>
		            <img src="{{student.dp}}" style="width: 80%; max-width: 70px; margin: 0 auto; border-radius: 50px;">
		          </ion-avatar>
		        </td>
		        <td>{{student.name}}</td>
		        <td>{{student.level}}</td>
		        <td style="">
		          <span *ngIf=" student.blocked == false ">
		          	<ion-item>
						  <ion-label>Block From Parent</ion-label>
						  <ion-toggle checked="false" (ionChange)="updateStdValid( student.id );"></ion-toggle>
					</ion-item>
		          </span>
		          <span *ngIf=" student.blocked == true ">
					  	<ion-item>
						  <ion-label>Block From Parent</ion-label>
						  <ion-toggle checked="true" (ionChange)="updateStdValid( student.id );"></ion-toggle>
					  </ion-item>
				  </span>
					  
				</td>
		      </tr>
		    </tbody>
		</table>
	  </ion-list>
	</aside>
	<aside class="aside-right {{rToggle}}" *ngIf="dToggles=== 'tActive'">
		<ion-list >
	  <ion-grid>
	      <ion-row>
	        <ion-col col-7>
	          <ion-searchbar (ionInput)="getItems2($event)" animated=true placeholder="name" style="background: rgba(0,0,0,0.1);" id="searchbar"></ion-searchbar>
	        </ion-col>
	        <ion-col col-5>
	          <ion-list >
	            <ion-item style="background-color: rgba(0,0,0,0.1); color: #000;">
	              <ion-label>Filter By</ion-label>
	              <ion-select [(ngModel)]="category">
	                <ion-option value="">All</ion-option>
	              </ion-select>
	            </ion-item>
	          </ion-list>
	        </ion-col>
	      </ion-row>
	    </ion-grid>
	    
	    <table style="width: 100%;" class="dtable">
		    <thead>
		      <tr>
		        <th>Prf Pix</th> <th>Name</th> <th>Course</th> <th>Action</th> 
		      </tr>
		    </thead>
		    <tbody>
		      <tr *ngFor=" let teacher of teachers | searchFilter2: category">
		        <td style="max-width: 80px;">
		          <ion-avatar>
		            <img src="{{teacher.dp}}" style="width: 80%; max-width: 70px; margin: 0 auto; border-radius: 50px;">
		          </ion-avatar>
		        </td>
		        <td>{{teacher.name}}</td>
		        <td>{{teacher.course}}</td>
		        <td style="">
		          <span *ngIf=" teacher.blocked == false ">
		          	<ion-item>
						  <ion-label>Block Access</ion-label>
						  <ion-toggle checked="false" (ionChange)="updateTValid( teacher.id );"></ion-toggle>
					</ion-item>
		          </span>
		          <span *ngIf=" teacher.blocked == true ">
					  	<ion-item>
						  <ion-label>Block Access</ion-label>
						  <ion-toggle checked="true" (ionChange)="updateTValid( teacher.id );"></ion-toggle>
					  </ion-item>
				  </span>
					  
				</td>
		      </tr>
		    </tbody>
		</table>
	  </ion-list>
	</aside>
	<aside class="aside-right {{rToggle}}" *ngIf="dToggles=== 'bActive'">
	 <ion-list >
	  <ion-grid>
	      <ion-row>
	        <ion-col col-7>
	          <ion-searchbar (ionInput)="getItems3($event)" animated=true placeholder="name" style="background: rgba(0,0,0,0.1);" id="searchbar"></ion-searchbar>
	        </ion-col>
	        <ion-col col-5>
	          <ion-list >
	            <ion-item style="background-color: rgba(0,0,0,0.1); color: #000;">
	              <ion-label>Filter By</ion-label>
	              <ion-select [(ngModel)]="category">
	                <ion-option value="">All</ion-option>
	              </ion-select>
	            </ion-item>
	          </ion-list>
	        </ion-col>
	      </ion-row>
	    </ion-grid>
	    
	    <table style="width: 100%;" class="dtable">
		    <thead>
		      <tr>
		        <th>Prf Pix</th> <th>Name</th> <th>Status</th>  <th>Action</th> 
		      </tr>
		    </thead>
		    <tbody>
		      <tr *ngFor=" let bus of busStaffs | searchFilter2: category">
		        <td style="max-width: 80px;">
		          <ion-avatar>
		            <img src="{{bus.dp}}" style="width: 80%; max-width: 70px; margin: 0 auto; border-radius: 50px;">
		          </ion-avatar>
		        </td>
		        <td>{{bus.name}}</td>
		        <td>{{bus.status}}</td>
		        <td style="">
		          <span *ngIf=" bus.blocked == false ">
		          	<ion-item>
						  <ion-label>Block Access</ion-label>
						  <ion-toggle checked="false" (ionChange)="updateBValid( bus.id );"></ion-toggle>
					</ion-item>
		          </span>
		          <span *ngIf=" bus.blocked == true ">
					  	<ion-item>
						  <ion-label>Block Access</ion-label>
						  <ion-toggle checked="true" (ionChange)="updateBValid( bus.id );"></ion-toggle>
					  </ion-item>
				  </span>
					  
				</td>
		      </tr>
		    </tbody>
		</table>
	  </ion-list>
	</aside>
	<aside class="aside-right {{rToggle}}" *ngIf="dToggles=== 'lActive'">
		<ion-list >
	  <ion-grid>
	      <ion-row>
	        <ion-col col-7>
	          <ion-searchbar (ionInput)="getItems4($event)" animated=true placeholder="name" style="background: rgba(0,0,0,0.1);" id="searchbar"></ion-searchbar>
	        </ion-col>
	        <ion-col col-5>
	          <ion-list >
	            <ion-item style="background-color: rgba(0,0,0,0.1); color: #000;">
	              <ion-label>Filter By</ion-label>
	              <ion-select [(ngModel)]="category">
	                <ion-option value="">All</ion-option>
	              </ion-select>
	            </ion-item>
	          </ion-list>
	        </ion-col>
	      </ion-row>
	    </ion-grid>
	    
	    <table style="width: 100%;" class="dtable">
		    <thead>
		      <tr>
		        <th>Prf Pix</th> <th>Name</th> <th>Status</th>  <th>Action</th> 
		      </tr>
		    </thead>
		    <tbody>
		      <tr *ngFor=" let lib of libStaffs | searchFilter2: category">
		        <td style="max-width: 80px;">
		          <ion-avatar>
		            <img src="{{lib.dp}}" style="width: 80%; max-width: 70px; margin: 0 auto; border-radius: 50px;">
		          </ion-avatar>
		        </td>
		        <td>{{lib.name}}</td>
		        <td>{{lib.status}}</td>
		        <td style="">
		          <span *ngIf=" lib.blocked == false ">
		          	<ion-item>
						  <ion-label>Block Access</ion-label>
						  <ion-toggle checked="false" (ionChange)="updateLValid( lib.id );"></ion-toggle>
					</ion-item>
		          </span>
		          <span *ngIf=" lib.blocked == true ">
					  	<ion-item>
						  <ion-label>Block Access</ion-label>
						  <ion-toggle checked="true" (ionChange)="updateLValid( lib.id );"></ion-toggle>
					  </ion-item>
				  </span>
					  
				</td>
		      </tr>
		    </tbody>
		</table>
	  </ion-list>
	</aside>	
</ion-content>

<style type="text/css">
  table tr td {
    text-align: center;
  }
  table tbody tr:nth-child(even) {
    background: rgba(220,220,220,0.2);
  }
	 .aside-left {
	 	background: #333;
	 	width: 300px; height: 700px; max-height: 85vh;
	 	box-shadow: 2px 0px 3px #B6B6B4;
	 	position: fixed; top: 56px; left: 0px; color: #fff;

	 	/*margin-left: -260px;*/
	 }
	 .aside-left button {
	 	background-color: transparent; color: #fff;
	 }
	  .full {
	 	left: 0;
	 	-webkit-transition: left 0.7s; /* Safari */
	    transition: left 0.7s;
	 }
	  .part {
	 	left: -254px;
	 	-webkit-transition: left 0.7s; /* Safari */
	    transition: left 0.7s;
	 }
	 .aside-left .aside-head {
		padding: 30px; font-weight: bold; padding-left: 0;
		float: left; width: 100%;
	}
	 .aside-left .aside-head a.menu-btn {
		color: #fff; margin-right: -26px;
	}
	 .aside-left .lists .list {
		
	}
	 .aside-left .lists .list a{
		color: #fff; font-weight: bold; 
		display: block; text-align: left;
		padding-left: 20px;
	}
	.aside-left button.list-active {
		opacity: 0.8; background-color: rgba(255,255,255,0); border-left: 3px solid #fff; border-bottom: 0.4px solid #e5e4e2;
	}

	.aside-right {
		margin-left: 300px;
		min-width: 500px; 
		overflow-x: scroll;
	}
	.rightPart {
		margin-left: 50px;
	 	-webkit-transition: margin-left 0.7s; /* Safari */
	    transition: margin-left 0.7s;
	}
	.rightFull {
		margin-left: 300px;
	 	-webkit-transition: margin-left 0.7s; /* Safari */
	    transition: margin-left 0.7s;
	}
</style>